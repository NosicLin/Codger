#include "lexical.h"

#define STRING_OTHER 0
#define STRING_NEWLINE 1
#define STRING_BACKSLASH 2
#define STRING_QUITE 3
char string_type_map[ASSIC_NUM]=
{
	0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0

};

#define STRING_STATE_TYPES 4
#define STRING_INPUT_TYPES 4

#define STRING_STATE_BEGIN 0
#define STRING_STATE_STRING 1
#define STRING_STATE_ESC 2
#define STRING_STATE_END 3

#define STRING_STATE_ERR  LEX_ERR

/*Other | Newline | BackSlash | Quite */
int string_automaton[STRING_STATE_TYPES*STRING_INPUT_TYPES]=
{
	/*STRING_STATE_BEGIN*/
	STRING_STATE_ERR,STRING_STATE_ERR,STRING_STATE_ERR,STRING_STATE_STRING,
	/*STRING_STATE_STRING*/
	STRING_STATE_STRING,STRING_STATE_ERR,STRING_STATE_ESC,STRING_STATE_END,
	/*STRING_STATE_ESC*/
	STRING_STATE_STRING,STRING_STATE_STRING,STRING_STATE_STRING,STRING_STATE_STRING,
	/*STRING_STATE_END*/
	STRING_STATE_ERR,STRING_STATE_ERR,STRING_STATE_ERR,STRING_STATE_ERR
};

char string_state[STRING_STATE_TYPES]={0,0,0,1};


struct automaton am_string=
{
	STRING_STATE_TYPES,
	STRING_INPUT_TYPES,
	string_type_map,
	STRING_STATE_BEGIN,
	string_automaton,
	string_state
};

